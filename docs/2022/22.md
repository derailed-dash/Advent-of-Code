---
day: 22
title: Day 22
main_img:
  name: "Coming Soon"
  link: /assets/images/coming_soon.jpg
tags: 
  - name: regex
    link: /python/regex
---

## Page Navigation

- [Problem Intro](#problem-intro)
- [Part 1](#part-1)
- [Part 2](#part-2)
- [Results](#results)

## Problem Intro

Part 1 was okay.  Part 2 is horrendous.

We're given a strange map and told we have to navigate it by following a specific path. The map is composed of locations, which can be _empty_ or _tiles_.

- Tiles are valid locations on the map. 
  - Tiles can be `.`, which means this tile can be occoupied.
  - Alternatively, tiles can be `#`, meaning that this tile is blocked.
- Empty locations are represented by ` `, and these are NOT valid locations to visit.

Our input data is composed of two components: 
1. The map we must navigate.
1. A sequence of alternating numbers and letters:
   Number means: move forward `n` tiles; stop if you hit an obstacle.
   Letter means: turn left (`L`) or right (`R`), at current position. I.e. rotate left or right, relative to your current orientation.
   
Here is some sample input data:

```text
        ...#
        .#..
        #...
        ....
...#.......#
........#...
..#....#....
..........#.
        ...#....
        .....#..
        .#......
        ......#.

10R5L5R10L4R5L5
```
   
We're told that if we go off the map, we reappear the other side. (Assuming not blocked.)

The final password is the sum of 1000 times the row, 4 times the column, and the last facing. Note that rows and columns are 1-indexed.  Facing values:
- 0 for right (>)
- 1 for down (v)
- 2 for left (<)
- 3 for up (^).

## Part 1

**What is the final password?**

Soln:
- Store a map of vectors to >, v, < and ^, which can be indexed by 0, 1, 2, 3.
- Map class instantiated from the input grid.
- Stores current position, current direction, and the path taken, made up of (Point, direction).
- Processes two types of instruction:
  - change_direction: if R, select the (n+1)%4 vector. If left, select (n+3)%4 vector.
  - move_forward:
    - Determine what the next position would be by adding the appropriate vector.
    - If the candidate is in the grid and not a space, then this is a valid candidate.
      If not blocked, move there.
    - If the candidate is not in the grid or is a space, then we need to re-enter from the other side.
      We do this by reversing direction and moving all the way to the opposite edge. 
      Then reverse direction again, so we're still facing the right way.

## Part 2

WiP

## Results