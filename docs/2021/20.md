---
day: 20
title: Day 20
main_img:
  name: Image Enhancement
  link: /assets/images/pixel-image.jpg
tags: 
  - name: PIL
    link: https://www.geeksforgeeks.org/python-pillow-colors-on-an-image/
  - name: binary
---
## Solution Intro

We're told we have an image from our scanners, but it needs enhancing.  Our input contains two different things:

1. The image enhancement algorithm
1. The input image itself

The input looks something like this:

```
..#.#..#####.#.#.#.###.##.....###.##.#..###.####..### // .#.#.#...##..#.#..###..#####........#..####......#..#

#..#.
#....
##..#
..#..
..###
```

The first line is actually 512 chars is length, but I've trimmed it above, for readability. Then we have a blank line, followed by the image we need to enhance, whihc is itself split over multiple lines.

## Part 1

We're asked to assemble the full map of scanners and beacons, and **determine how many becaons there are.**

Here's my game plan:

- Get all the beacon positions, relative to each scanner. This will be in the form of vectors.
- The scanners can be of any orientation relative to one another. Ultimately, we need all the scanners and beacons to be in a _common_ orientation. So I'm going to orient all scanners relative to Scanner 0.
- For at least two scanners, we know that there will be at least 12 beacons where:
  - 'Scanner 0 -> beacon vector + beacon -> Scanner x vector' will be the same vector.
  - Or, alternatively, 'Scanner 0 -> beacon vector - Scanner x -> beacon vector` will be the same vector.
    (I.e. if we're going from Scanner x to the common beacon, the vector is in reverse, so subtracting has the same effect.) 
- But because we don't know the relative orientations of Scanner 0 and Scanner x, we can't simply subtract the `Scanner x -> beacon vector`, because we don't know the orientation of this vector.
- So, let's just try _ALL_ the different permutations of `Scanner x -> beacon`, for all the beacons connected to Scanner x. If we do that, we should find there's only orientation that gives us at least 12 beacons in common.
- Once we know this orientation, we then know where Scanner x is relative to Scaner 0, and consequently, we can now determine the location of all of Scanner x's beacons, relative to Scanner 0.

### Setup

