---
day: 8
title: Day 8
tags: 
  - name: literal_eval
    link: https://docs.python.org/3/library/ast.html

---
## Problem Intro

// WiP

We're told that Santa has a digital copy of his list.  The string values in the list contain quotes, escape characters, and hex representations of characters.

The sample data looks like this:

```text
""
"abc"
"aaa\"aaa"
"\x27"
```

So, we can count the number of characters in the raw input strings, and we can count the number of characters in the string being represented:

|Value|Length of Raw String|Length of Represented String|
|-----|--------------------|----------------------------|
|""|2|0|
|"abc"|5|3|
|"aaa\\\"aaa"|10|7|
|"\x27"|6|1|

## Part 1

**Disregarding the whitespace in the file, what is the number of characters of the raw string literals minus the number of characters of the represented strings, in total for the entire file?**

We could use some regex to rip out the outside quotes, and to replace escape characters with their representations.  But it's actually much easier to use the `ast.literal_eval()` function. This is a Python standard module which provides the ability to parse and evaluate any input that follows the rules of Python's standard data types. E.g. we can use `literal_eval()` to evalute strings, lists, dicts, etc.

The code is pretty simple:

```python
from pathlib import Path
import time
import re
from ast import literal_eval

SCRIPT_DIR = Path(__file__).parent 
INPUT_FILE = Path(SCRIPT_DIR, "input/input.txt")
# INPUT_FILE = Path(SCRIPT_DIR, "input/sample_input.txt")

def main():
    with open(INPUT_FILE, mode="rt") as f:
        data = f.read().splitlines()

    raw_lengths = []
    evaluated_lengths = []
    encoded_lengths = []
    for line in data:
        line = line.strip()
        raw_lengths.append(len(line))
        
        # Use literal_eval to take the raw string, and evaluate it as a Python expression
        str_repr = literal_eval(line)

        # Part 1
        evaluated_lengths.append(len(str_repr))

    sum_raw_lengths = sum(raw_lengths)
    sum_eval_lengths = sum(evaluated_lengths)
    sum_encoded_lengths = sum(encoded_lengths)
    print(f"Sum of raw strings: {sum_raw_lengths}") 
    print(f"Sum of evaluated strings: {sum_eval_lengths}") 
    print(f"Diff: {sum_raw_lengths-sum_eval_lengths}") 

if __name__ == "__main__":
    t1 = time.perf_counter()
    main()
    t2 = time.perf_counter()
    print(f"Execution time: {t2 - t1:0.4f} seconds")
```